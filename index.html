<!DOCTYPE html>
<html>
<title> Bootstrap template- Pizza 365 project</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- font -->
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<!-- Bootstrap -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<body>

<!-- Menu -->
<div class="container-fluid bg-light">
  <div class="row">
    <div class="col-sm-12">
      <nav class="navbar fixed-top navbar-expand-lg navbar-light bg-light">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav nav-fill w-100">
            <li class="nav-item active">
              <a class="nav-link" href="#">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#plans">Plans</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#about">About</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#contact">Contact</a>
            </li>
          </ul>
        </div>
      </nav>
    </div>
  </div>
</div>

<!-- Content -->
<div class="container" style="padding: 120px 0 50px 0; color: rgb(12, 14, 8);">
  <div class="row">
    <div class="col-sm-12">
      <div class="row">
        <!-- Title row home -->
        <div class="col-sm-12">
          <h1><b>MARKETING</b></h1> 
        </div>

        <!-- Slide row home -->
        <div class="col-sm-12">
          <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators">
              <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
              <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
              <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
              <li data-target="#carouselExampleIndicators" data-slide-to="3"></li>
              <li data-target="#carouselExampleIndicators" data-slide-to="4"></li>
            </ol>
            <div class="carousel-inner">
              <div class="carousel-item active">
                <img class="d-block w-100" src="images/mon_y_1.jpg" alt="First slide">
              </div>
              <div class="carousel-item">
                <img class="d-block w-100" src="images/mon_y_2.jpg" alt="Second slide">
              </div>
              <div class="carousel-item">
                <img class="d-block w-100" src="images/mon_y_3.jpg" alt="Third slide">
              </div>
              <div class="carousel-item">
                <img class="d-block w-100" src="images/mon_y_4.jpg" alt="Fourth slide">
              </div>
              <div class="carousel-item">
                <img class="d-block w-100" src="images/mon_y_5.jpg" alt="Fifth slide">
              </div>
            </div>
            <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="sr-only">Next</span>
            </a>
          </div>
        </div>

        <!-- Title what we offer -->
        <div class="col-sm-12 text-center p-4 mt-4" style="font-family: Cursive; color:rgba(8, 104, 59, 0.726);">
          <h2><b class="p-2 border-bottom">Tại sao lại là 365 Pizza</b></h2>
        </div>

        <!-- Content what we offer -->
        <div class="col-sm-12">
          <div class="row">
            <div class="col-sm-3 p-4 bg-success border">
              <h3 class="p-2" style="font-family: Monospace;">Vị trí</h3>
              <p class="p-2" style="font-family:Monospace; ">Tọa lạc gần trung tâm thành phố, 1 nơi lý tưởng để mọi người gặp nhau sau giờ làm việc căng thẳng</p>
            </div>
            <div class="col-sm-3 p-4 bg-info border">
              <h3 class="p-2" style="font-family: Monospace;">Nguyên liệu</h3>
              <p class="p-2" style="font-family:Monospace ">Đảm bảo 100% nguyên liêu tươi sống, và vệ sinh an toàn thực phẩm</p>
            </div>
            <div class="col-sm-3 p-4 bg-success text-white border">
              <h3 class="p-2" style="font-family: Monospace;">Hương vị</h3>
              <p class="p-2" style="font-family:Monospace ">Hương vị đặc trưng đến từ Italia pha trộn một chút nét Á Đông khiến bạn không thể cưỡng lại</p>
            </div>
            <div class="col-sm-3 p-4 bg-info text-white border">
              <h3 class="p-2" style="font-family: Monospace;">Khuyến mãi</h3>
              <p class="p-2" style="font-family:Monospace ">Giảm giá vào thứ 5 hàng tuần và luôn có những voucher hấp dẫn cho thành viên</p>
            </div>
          </div>
        </div>
      </div>

      <div id="plans" class="row">
        <!-- Title what we offer -->
        <div class="col-sm-12 text-center p-4 mt-4">
          <h2><b class="p-1 border-bottom" style="font-family: Cursive; color:rgba(189, 186, 4, 0.726);">Menu Combo Pizza 365</b></h2>
          <p><span class="p-2" >Hãy chọn cỡ pizza phù hợp với bạn!</span></p>
        </div>
        <!-- Content what we offer -->
        <div class="col-sm-12">
          <div class="row">
            <div class="col-sm-4">
              <div class="card">
                <div class="card-header bg-info text-white text-center" style="height: 300px;">
                  <h3 >S (small)</h3>
                  <br>
                  <br>
                  <img  src="images/s.jpg" style="height: 150px;">
                </div>
                <div class="card-body text-center">
                  <ul class="list-group list-group-flush">
                    <li class="list-group-item"><b>20cm</b> Đường kính</li>
                    <li class="list-group-item"><b>2</b> Sườn nướng</li>
                    <li class="list-group-item"><b>200g</b> Salad</li>
                    <li class="list-group-item"><b>2</b> Nước ngọt</li>
                    <li class="list-group-item"><h3><b>150.000 <br>VND</b></h3></li>
                  </ul>
                </div>
                <div class="card-footer  text-center">
                  <button id="btn-small" onclick="onBtnChooseSizeClick('s')" class="btn btn-success">Chọn</button>
                </div>
              </div>
            </div>
            <div class="col-sm-4">
              <div class="card">
                <div class="card-header bg-info text-white text-center" style="height: 300px;">
                  <h3>M (Medium)</h3>
                  <br>
                  <img  src="images/m.jpg" style="height: 200px;">
                </div>
                <div class="card-body text-center">
                  <ul class="list-group list-group-flush">
                    <li class="list-group-item"><b>25cm</b> Đường kính</li>
                    <li class="list-group-item"><b>4</b> Sườn nướng</li>
                    <li class="list-group-item"><b>300g</b> Salad</li>
                    <li class="list-group-item"><b>3</b> Nước ngọt</li>
                    <li class="list-group-item"><h3><b>200.000 <br>VND</b></h3></li>
                  </ul>
                </div>
                <div class="card-footer text-center" >
                  <button id="btn-medium" onclick="onBtnChooseSizeClick('m')" class="btn btn-success" >Chọn</button>
                </div>
              </div>
            </div>
            <div class="col-sm-4">
              <div class="card">
                <div class="card-header bg-info text-white text-center" style="height: 300px;">
                  <h3>L (Large)</h3>
                  <img  src="images/L.jpg" style="height: 240px;">
                </div>
                <div class="card-body text-center">
                  <ul class="list-group list-group-flush">
                    <li class="list-group-item"><b>30cm</b> Đường kính</li>
                    <li class="list-group-item"><b>8</b> Sườn nướng</li>
                    <li class="list-group-item"><b>500g</b> Salad</li>
                    <li class="list-group-item"><b>4</b> Nước ngọt</li>
                    <li class="list-group-item"><h3><b>250.000 <br>VND</b></h3></li>
                  </ul>
                </div>
                <div class="card-footer text-center">
                  <button id="btn-large"  onclick="onBtnChooseSizeClick('l')" class="btn btn-success">Chọn</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div id="about" class="row">
        <!-- Title Who We Are -->
        <div class="col-sm-12 text-center p-4 mt-4">
          <h2><b class="p-2 border-bottom" style="font-family: Cursive; color:rgba(6, 65, 153, 0.726);">Chọn loại Pizza</b></h2>
        </div>

        <!-- Content Who We Are -->
        <div class="col-sm-12">
          <div class="row">
            <div class="col-sm-4">
              <div class="card w-100" style="width: 18rem;">
                <img src="images/pizza_type_1.jpg" class="card-img-top">
                <div class="card-body"  style="font-family: Monospace; background-color: rgb(7, 184, 95);" >
                  <h3>Hawai</h3>
                  <p>Vị thanh của dứa, vị đậm đà của thịt xông khói kết hợp với Đế bánh dai, giòn tạo nên hương vị phóng khoáng của Pizza Hawaii.</p>
                  <p><button id="btn-type1" onclick="onBtnChooseTypeClick('type1')"  class="btn btn-info w-100">Chọn</button></p>
                </div>
              </div>
            </div>
            <div class="col-sm-4">
              <div class="card w-100" style="width: 18rem;">
                <img src="images/pizza_type_2.jpg" class="card-img-top">
                <div class="card-body"  style="font-family: Monospace; background-color: rgb(84, 180, 5);">
                  <h3>Hải sản</h3>
                  <p>Món ăn độc đáo và sang trọng, sở hữu vị thơm ,béo của phô mai, vị ngọt của hải sản, vị chua nhè nhẹ của sốt cà.</p>
                  <p><button  id="btn-type2" onclick="onBtnChooseTypeClick('type2')" class="btn btn-info w-100">Chọn</button></p>
                </div>
              </div>
            </div>
            <div class="col-sm-4">
              <div class="card w-100" style="width: 18rem;">
                <img src="images/pizza_type_3.jpg" class="card-img-top">
                <div class="card-body"  style="font-family: Monospace; background-color:  rgb(133, 202, 5);">
                  <h3>Thịt xông khói</h3>
                  <p>Pizza kết hợp giữa thịt giăm bông, thịt xông khói và hai loại ớt xanh, cà chua. Sự pha trộn vị giác giữa các loại thịt sẽ lôi cuốn bạn.</p>
                  <p><button  id="btn-type3" onclick="onBtnChooseTypeClick('type3')" class="btn btn-info w-100">Chọn</button></p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div id="contact" class="row">
        <!-- Title Contact Us -->
        <div class="col-sm-12 text-center p-4 mt-4">
          <h2><b class="p-2 border-bottom" style="font-family: Cursive;" >Gửi đơn hàng</b></h2>
        </div>

        <!-- Content Contact Us -->
        <div class="col-sm-12 p-2 jumbotron">
          <div class="row">
            <div class="col-sm-12">
              <div class="form-group">
                <label for="inp-fullname">Họ và tên</label>
                <input type="text" class="form-control" id="inp-fullname" placeholder="Họ và tên">
              </div>
              <div class="form-group">
                <label for="inp-email">Email</label>
                <input type="text" class="form-control" id="inp-email" placeholder="Email">
              </div>
              <div class="form-group">
                <label for="inp-phone">Điện thoại</label>
                <input type="text" class="form-control" id="inp-phone" placeholder="Điện thoại">
              </div>
              <div class="form-group">
                <label for="inp-address">Địa chỉ</label>
                <input type="text" class="form-control" id="inp-address" placeholder="Địa chỉ">
              </div>
              <div class="form-group">
                <label for="inp-message">Lời nhắn</label>
                <input type="text" class="form-control" id="inp-message" placeholder="Lời nhắn">
              </div>
              <div class="form-group">
                <label for="inp-voucherID">Mã giảm giá (voucherID)</label>
                <input type="text" class="form-control" id="inp-voucherID" placeholder="Mã voucher">
              </div>
              <button type="button" onclick="onBtnSendClick()" class="btn btn-info w-100">Gửi đơn</button>
            </div>
          </div>
        </div>
        <!-- vùng hiển thị thông tin đơn hàng(order) -->
        <div id="div-container-order" class="container bg-info p-2 jumbotron" style="visibility: hidden;">
          <div id="div-order-infor" class="text-white p-4" >...</div>
          <div class="p-2">
            <button onclick="onBtnConfirmClick()" type="button" class="btn btn-warning w-100">Xác nhận</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Footer -->
<div class="container-fluid bg-light p-5">
  <div class="row text-center">
    <div class="col-sm-12">
      <h4 class="m-2">Footer</h4>
      <a href="#" class="btn btn-dark m-3"><i class="fa fa-arrow-up"></i>To the top</a>
      <div class="m-2">
        <i class="fa fa-facebook-official w3-hover-opacity"></i>
        <i class="fa fa-instagram w3-hover-opacity"></i>
        <i class="fa fa-snapchat w3-hover-opacity"></i>
        <i class="fa fa-pinterest-p w3-hover-opacity"></i>
        <i class="fa fa-twitter w3-hover-opacity"></i>
        <i class="fa fa-linkedin w3-hover-opacity"></i>
      </div>
    </div>
  </div>
</div>
<script>
"use strict";
/*** REGION 1 - Global variables - Vùng khai báo biến, hằng số, tham số TOÀN CỤC */
// bạn có thể dùng để lưu trữ combo được chọn, 
// mỗi khi khách chọn menu S, M, L bạn lại đổi giá trị properties của nó
var gSelectedMenuStructure = {
  menuName: "...",    // S, M, L
  duongKinhCM: 0,
  suongNuong: 0,
  saladGr: 0,
  drink: 0,
  priceVND: 0,
  display: function(){
    console.log("Size : "+ this.menuName);
    console.log("đường kính : "+ this.duongKinhCM);
    console.log("sườn : "+ this.suongNuong);
    console.log("Salad : "+ this.saladGr);
    console.log("nước ngọt : "+ this.drink);
    console.log("Giá : "+ this.priceVND);
  }
}
// bạn có thể dùng để lưu loại pizza đươc chọn, mỗi khi khách chọn, bạn lại đổi giá trị cho nó
var gSelectedPizzaType = "..." 
// danh sách các mã giảm giá
var gDiscountVouchers = [
  { voucherID:"A1", percentDiscount: 20 },   // mã giảm giá là A1, phần trăm giảm giá 20%
  { voucherID:"A2", percentDiscount: 10 },
  { voucherID:"A3", percentDiscount: 5 },
  { voucherID:"A4", percentDiscount: 30 },
  { voucherID:"A5", percentDiscount: 20 },
  { voucherID:"B1", percentDiscount: 25 },
  { voucherID:"B2", percentDiscount: 15 },
  { voucherID:"B3", percentDiscount: 5 },
  { voucherID:"B4", percentDiscount: 30 },
  { voucherID:"B5", percentDiscount: 40 }  
];
/*** REGION 2 - Vùng gán / thực thi hàm xử lý sự kiện cho các elements */

/*** REGION 3 - Event handlers - Vùng khai báo các hàm xử lý sự kiện */
function onBtnChooseSizeClick(paramSize){
  changeColorbtn(paramSize);
  if (paramSize=='s'){
    gSelectedMenuStructure.menuName= 'S';
    gSelectedMenuStructure.duongKinhCM= '20cm';
    gSelectedMenuStructure.suongNuong= '2';
    gSelectedMenuStructure.saladGr= '200g';
    gSelectedMenuStructure.drink= '2';
    gSelectedMenuStructure.priceVND= 150000;
  }
  else if (paramSize=='m'){
    gSelectedMenuStructure.menuName= 'M';
    gSelectedMenuStructure.duongKinhCM= '25cm';
    gSelectedMenuStructure.suongNuong= '4';
    gSelectedMenuStructure.saladGr= '300g';
    gSelectedMenuStructure.drink= '3';
    gSelectedMenuStructure.priceVND= 200000;
  }
  else if (paramSize=='l'){
    gSelectedMenuStructure.menuName= 'L';
    gSelectedMenuStructure.duongKinhCM= '30cm';
    gSelectedMenuStructure.suongNuong= '8';
    gSelectedMenuStructure.saladGr= '500g';
    gSelectedMenuStructure.drink= '4';
    gSelectedMenuStructure.priceVND= 250000;
  }
  gSelectedMenuStructure.display();

}

function onBtnChooseTypeClick(paramType){
  changeColorbtn(paramType)
  if (paramType=='type1'){
    gSelectedPizzaType= "Hawai"; 
  }
  else if (paramType=='type2'){
    gSelectedPizzaType= "Hải sản"; 
  }
  else if (paramType=='type3'){
    gSelectedPizzaType= "Bacon"; 
  }
  console.log("Loại pizza đã chọn: "+ gSelectedPizzaType);
}

function onBtnSendClick(){
  //khởi tạo đơn hàng
  var vOrder ={
    fullName: "",
    email: "",
    phone: "",
    address: "",
    mess: "",
    voucher: "",
  }
  //Thu thập dữ liệu
  getInfo(vOrder);
  if (gSelectedMenuStructure.menuName == "...") {
    alert("Vui lòng chọn cỡ bánh pizza");
    return 0;
  }

  if (gSelectedPizzaType == "...") {
    alert("Vui lòng chọn loại bánh pizza");
    return 0;
  }
  
  var isValidOrder = isValid(vOrder);
  if (isValidOrder){
    displayOrder(vOrder)
  }
}

function onBtnConfirmClick(){
  var vText= document.getElementById("div-order-infor").innerHTML;
  vText= vText.replace(/<br\s*[\/]?>/gi, "\n");
  console.clear();
  console.log("Bạn đã thành công đặt đơn hàng");
  console.log(vText);
}

/*** REGION 4 - Common funtions - Vùng khai báo hàm dùng chung trong toàn bộ chương trình*/
function changeColorbtn(paramBtn){
  var vBtnSmall = document.getElementById("btn-small")
  var vBtnMedium = document.getElementById("btn-medium")
  var vBtnLarge = document.getElementById("btn-large")
  var vBtnType1 = document.getElementById("btn-type1")
  var vBtnType2 = document.getElementById("btn-type2")
  var vBtnType3 = document.getElementById("btn-type3")

  if (paramBtn==='s'){
    vBtnSmall.className= "btn btn-warning";
    vBtnMedium.className= "btn btn-success";
    vBtnLarge.className= "btn btn-success";

  }
  else if (paramBtn==='m'){
    vBtnSmall.className= "btn btn-success";
    vBtnMedium.className= "btn btn-warning";
    vBtnLarge.className= "btn btn-success";
  }
  else if (paramBtn==='l'){
    vBtnSmall.className= "btn btn-success";
    vBtnMedium.className= "btn btn-success";
    vBtnLarge.className= "btn btn-warning";
  }
  else if (paramBtn==='type1'){
    vBtnType1.className= "btn w-100 btn-warning";
    vBtnType2.className= "btn w-100 btn-info";
    vBtnType3.className= "btn w-100 btn-info";
  }
  else if (paramBtn==='type2'){
    vBtnType1.className= "btn w-100 btn-info";
    vBtnType2.className= "btn w-100 btn-warning";
    vBtnType3.className= "btn w-100 btn-info";
  }
  else if (paramBtn==='type3'){
    vBtnType1.className= "btn w-100 btn-info";
    vBtnType2.className= "btn w-100 btn-info";
    vBtnType3.className= "btn w-100 btn-warning";
  }

}

function getInfo(paramOrder){
  
  var vFullName = document.getElementById("inp-fullname");
  var vEmail = document.getElementById("inp-email");
  var vPhone = document.getElementById("inp-phone");
  var vAddress = document.getElementById("inp-address");
  var vMess = document.getElementById("inp-message");
  var vVoucher = document.getElementById("inp-voucherID");

  paramOrder.fullName= vFullName.value.trim();
  paramOrder.email= vEmail.value.trim();
  paramOrder.phone= vPhone.value.trim();
  paramOrder.address= vAddress.value.trim();
  paramOrder.mess= vMess.value.trim();
  paramOrder.voucher= vVoucher.value.trim();


}

function isValid(paramOrder){
  if (paramOrder.fullName =="" || paramOrder.email =="" || paramOrder.phone =="" || paramOrder.address ==""){
    alert ("không được để trống thông tin cá nhân")
    return false;
  }
  if (!paramOrder.email.includes('@')){
    alert ("email phải chứa @")
    return false;
  }
  return true;
}
function getDiscount(paramVoucher){
  for (let voucher of gDiscountVouchers){
    if (paramVoucher == voucher.voucherID){
      return voucher.percentDiscount
    }    
  }
  if (paramVoucher !=""){
    return 0;
    alert("không tìm thấy mã giảm giá");
  }
  return 0;
}
function displayOrder(paramOrder){
  document.getElementById("div-container-order").style.visibility="visible";
  var vOutText= document.getElementById("div-order-infor");
  
  var vDiscount = getDiscount(paramOrder.voucher);
  vOutText.innerHTML = "Họ và tên : " + paramOrder.fullName + "<br>";
  vOutText.innerHTML += "Email : " + paramOrder.email  + "<br>";
  vOutText.innerHTML += "Điện thoại : " + paramOrder.phone  + "<br>";
  vOutText.innerHTML += "Địa chỉ : " + paramOrder.address  + "<br>";
  vOutText.innerHTML += "Lời nhắn : " + paramOrder.mess  + "<br>";
  vOutText.innerHTML += "---------------------------------"  + "<br>";
  vOutText.innerHTML += "Size : "+ gSelectedMenuStructure.menuName + "<br>";
  vOutText.innerHTML += "đường kính : "+ gSelectedMenuStructure.duongKinhCM + "<br>";
  vOutText.innerHTML += "sườn : "+ gSelectedMenuStructure.suongNuong + "<br>";
  vOutText.innerHTML += "Salad : "+ gSelectedMenuStructure.saladGr + "<br>";
  vOutText.innerHTML += "nước ngọt : "+ gSelectedMenuStructure.drink + "<br>";
  vOutText.innerHTML += "---------------------------------"  + "<br>";
  vOutText.innerHTML += "Loại pizza : " + gSelectedPizzaType + "<br>";
  vOutText.innerHTML += "Mã voucher " + paramOrder.voucher + "<br>";
  vOutText.innerHTML += "Giá vnd : " + gSelectedMenuStructure.priceVND + "<br>";
  vOutText.innerHTML += "Discount % :" + vDiscount + "<br>";
  vOutText.innerHTML += "Phải thanh toán (vnd): " + gSelectedMenuStructure.priceVND*(1-vDiscount/100) + "<br>";
  vOutText.style.fontFamily="Cambria"

}

</script>
</body>
</html>
